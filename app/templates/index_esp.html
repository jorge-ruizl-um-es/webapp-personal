{%extends 'main_base_esp.html'%}

{%block title%} Home {%endblock%}

{%block content%}

<div class="text-center">
  <img src="{{ url_for('static', filename='images/perfil_malo2.jpeg') }}" 
  	class="img-fluid rounded-circle" alt="Foto de Perfil" style="width: 275px; height: 275px; object-fit: cover;">
</div>

<div class="container text-center mt-4">
	<h1 style="font-family: 'Poppins', sans-serif; font-size: 3.5rem; font-weight: 300;">
		Jorge Ruiz L√≥pez
	</h1>
	<br>
	<a href="{{ url_for('static', filename='files/CV.pdf') }}" 
   		class="btn btn-dark btn-lg mx-auto text-center bg-dark text-white"
   		download>
  		Descargar CV
	</a>
</div>

<!-- Secci√≥n Sobre m√≠ -->
<div class="container mt-5">
  <div class="card shadow-lg border-0 rounded-3">
	<div class="card-body mx-4">
	  <h2 class="card-title text-center mb-4">Sobre m√≠</h2>
	  <h4>¬°Bienvenido a mi espacio personal!</h3>
	  <p class="fs-5 mb-4" style="text-align: justify;">Soy Jorge Ruiz L√≥pez, estudiante de tercer a√±o de Ciencia e Ingenier√≠a de Datos en la Universidad de Murcia. 
		  Aqu√≠ encontrar√°s una parte de mi formaci√≥n acad√©mica, personal y profesional. Ir√© actualizando la informaci√≥n
		  con los nuevos proyectos que vaya desarrollando y los logros que vaya obteniendo a lo largo de mi carrera.
	  </p>

	  <!-- Dos columnas -->
		<div class="row row-cols-1 row-cols-lg-2 g-5">
		<!-- Columna izquierda: p√°rrafos -->
			<div class="col">
				{%for par in user_data['description']%}
					<p class="fs-5 mb-4 text-justify" style="text-align: justify;"">
						{{par}}
					</p>
				{%endfor%}
			</div>

		<!-- Columna derecha con lista de skills -->
			<div class="col px-4, py-4">
				<div class="about-skills">
					<br>

					<h5 class="text-uppercase text-muted mb-3">Habilidades destacadas</h6>

					<ul class="fs-5 mb-3">
						<li class="mb-3">üß† Inteligencia Artificial y Machine Learning</li>
						<li class="mb-3">üìä An√°lisis de datos y visualizaci√≥n</li>
						<li class="mb-3">üõ†Ô∏è Automatizaci√≥n con Python (ETL, scrapping, APIs)</li>
						<li class="mb-3">üåê Desarrollo cliente/servidor ¬∑ Redes</li>
					</ul>

					<br>

					<div class="d-flex flex-wrap gap-2">
						<span class="badge rounded-pill text-bg-dark" style="font-size: 1rem; padding: 0.6em 1em;">Python</span>
						<span class="badge rounded-pill text-bg-secondary" style="font-size: 1rem; padding: 0.6em 1em;">Pandas</span>
						<span class="badge rounded-pill text-bg-secondary" style="font-size: 1rem; padding: 0.6em 1em;">SQL</span>
						<span class="badge rounded-pill text-bg-secondary" style="font-size: 1rem; padding: 0.6em 1em;">Git</span>
						<span class="badge rounded-pill text-bg-secondary" style="font-size: 1rem; padding: 0.6em 1em;">APIs</span>
					</div>
				</div>
			</div>
		</div>

		<p class="fs-5 mb-4" style="text-align: justify;">Mi objetivo es permanecer en constante crecimiento como profesional y como persona, a la par que gano experiencia en distintos √°mbitos y contribuyo con mis habilidades en programaci√≥n, an√°lisis e investigaci√≥n. Este sitio refleja qui√©n soy, qu√© he aprendido y conseguido hasta ahora, y hacia d√≥nde quiero dirigirme.
	  	</p>	
	</div>
  </div>
</div>

<br>

<!-- Secci√≥n de formaci√≥n -->
<div class="my-5" id="formacion">
	<h2 class="mb-5 fs-1">Formaci√≥n</h2>

	<!-- Idiomas -->
	<div class="mb-5 px-5" id="idiomas">
		<h2 class="h3">Idiomas</h2>
		<p class="fs-5 mb-4">Estos son los idiomas que manejo y con los que puedo sentirme c√≥modo hablando, escribiendo y escuchando; junto con mi grado de maestr√≠a en cada uno.</p>

		<ol class="list-group list-group-numbered">
			{% for idioma in user_data['languages'] %}
				<li class="list-group-item py-3" style="font-size: large;">
					<div class="d-flex justify-content-between align-items-center">
						<div>
							<div class="fw-semibold">
								{{idioma['lang']}}
							</div>

							<small class="text-muted">
								{{idioma['level']}}
							</small>
						</div>
						
						{% if idioma['certificate'] %}
							<a href="{{url_for('static', filename='files/' ~ idioma['certificate'])}}"
								class="badge rounded-pill text-bg-dark text-decoration-none" download>
								Certificado
							</a>
						{%endif%}
					</div>
				</li>
			{%endfor%}
		</ol>
	</div>


	<!-- Estudios -->
	<div class="container my-5 px-5" id="educacion">
		<h2 class="mb-1">Educaci√≥n</h2>
		<p class="fs-5 mb-4" style="font-size: large;">Mi formaci√≥n reglada, con los puntos m√°s relevantes.</p>
		
		<!-- CSS embebido para desplazamiento -->
		<style>
			.carousel-wrap{ position:relative; isolation:isolate; } /* capa propia */
			.carousel-track{ scroll-snap-type:x mandatory; position:relative; z-index:0; }
			.carousel-track > .study-card{
				scroll-snap-align:start;
				min-width: 380px; max-width: 440px; /* puedes ajustar tama√±o */
				border-radius:.75rem;
			}
			.study-card{ transition:transform .2s, box-shadow .2s; }
			.study-card:hover{ transform:translateY(-4px); box-shadow:0 .75rem 1.25rem rgba(0,0,0,.15); }

			/* Flechas en overlay por encima del carrusel */
			.carousel-arrows{
				position:absolute; inset:0;
				display:flex; align-items:center; justify-content:space-between;
				padding:0 .25rem;
				pointer-events:none;  /* la capa ignora clicks */
				z-index:10;
			}
			.carousel-arrows .btn{ pointer-events:auto; } /* los botones s√≠ */

			/* === Certificados: solo visibles en hover (desktop) === */
			.card-actions{ 
				opacity:0; 
				visibility:hidden; 
				transition:opacity .2s ease, visibility .2s ease;
			}
			@media (hover:hover){
				.study-card:hover .card-actions,
				.study-card:focus-within .card-actions{
					opacity:1; visibility:visible;
			}
			}
			/* En dispositivos sin hover (m√≥vil/tablet t√°ctil), siempre visibles */
			@media (hover:none){
				.card-actions{ opacity:1; visibility:visible; }
			}
		</style>

		<div class="carousel-wrap" data-carousel>

			<!-- Pista desplazable -->
			<div class="carousel-track d-flex gap-5 overflow-auto py-2 px-1">
			{% for s in user_data['studies'] %}
				<div class="card study-card shadow-sm border-0">
					<div class="card-body">
						<h5 class="mb-1">{{ s.place }}</h5>
						<div class="fw-semibold">{{ s.type }}</div>
						<div class="text-muted mb-2">{{ s.date }}</div>

						<ul class="ps-3 mb-3">
						{% for d in s.description %}
							<li>{{ d }}</li>
						{% endfor %}
						</ul>

						{% if s.certificados %}
						<div class="card-actions">
							{% for cert in s.certificados %}
							<a href="{{ url_for('static', filename='files/' ~ cert) }}"
								class="btn btn-dark btn-sm me-2 mb-2" download>
								Certificado
							</a>
							{% endfor %}
						</div>
						{% endif %}
					</div>
				</div>
			{% endfor %}
			</div>
			
			<!-- Mostrar flechas si hay m√°s de 3 elementos -->
			{% if user_data['studies']|length > 3 %}
      			<div class="carousel-arrows d-none d-md-flex">
        			<button class="btn btn-outline-dark rounded-circle shadow" data-dir="left"  aria-label="Anterior">‚Äπ</button>
        			<button class="btn btn-outline-dark rounded-circle shadow" data-dir="right" aria-label="Siguiente">‚Ä∫</button>
      			</div>
    		{% endif %}

		</div>
	</div>

	
	<!-- Habilidades destacables -->
	<div class="container my-5 px-5" id="habilidades">
		<h2 class="mb-1">Habilidades destacables</h2>
		<p class="fs-5 mb-4" style="font-size: large;">Habilidades o aptitudes que he ido adquieriendo gracias a mi formaci√≥n tanto acad√©mica como autodidacta o mediante cursos.</p>

		<!-- Lista de cards con las habilidades -->
		<div class="carousel-wrap" data-carousel="">

			<!-- Pista desplazable -->
			<div class="carousel-track d-flex gap-5 overflow-auto py-2 px-1">
			{% for s in user_data['education'] %}
				<div class="card study-card shadow-sm border-0">
					<div class="card-body">
						<h5 class="mb-1">{{ s.skill }}</h5>
						<div class="mb-2">{{ s.description }}</div>

					<ul class="ps-3 mb-3">
					{% for d in s.skill_detail %}
						<li>{{ d }}</li>
					{% endfor %}
					</ul>
				</div>
			</div>
		{% endfor %}
		</div>

		<!-- Mostrar flechas si hay m√°s de 3 elementos -->
		{% if user_data['education']|length > 3 %}
			<div class="carousel-arrows d-none d-md-flex">
				<button class="btn btn-outline-dark rounded-circle shadow" data-dir="left"  aria-label="Anterior">‚Äπ</button>
				<button class="btn btn-outline-dark rounded-circle shadow" data-dir="right" aria-label="Siguiente">‚Ä∫</button>
			</div>
		{% endif %}
	</div>

	<!-- JS gen√©rico para desplazamiento con flechas -->
	<script>
		document.querySelectorAll('[data-carousel]').forEach(section => {
			const track = section.querySelector('.carousel-track');
			section.querySelectorAll('[data-dir]').forEach(btn => {
			btn.addEventListener('click', () => {
				const step = track.clientWidth * 0.9;               // tama√±o del scroll
				const dir  = btn.dataset.dir === 'left' ? -1 : 1;
				track.scrollBy({ left: dir * step, behavior: 'smooth' });
			});
			});
		});
	</script>

</div>

<div class="my-5" id="experiencia">
	<h2 class="mb-5 fs-1">Formaci√≥n</h2>
</div>

{%endblock%}